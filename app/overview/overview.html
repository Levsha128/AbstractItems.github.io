<section class="panel">
    <header class="panel__header">Items</header>
    <div class="create-item">
        <button ng-click="addItem()" class="create-item__button">Add new</button>
        <div class="create-item__input-wrapper">
            <input ng-model="newItem" ng-keypress="keypressHandler($event)" class="create-item__input"
                   placeholder="Type name here...">
        </div>
    </div>
    <ul ng-if="items.length" class="items-list">
        <li ng-repeat="(index, item) in items"
            ng-click="selectItem(item)"
            ng-class="{'items-list__item--active':item === selectedItem}"
            class="items-list__item">
            <div class="items-list__header">{{item.title}}</div>
            <div class="items-list__counter">{{item.comments.length}}</div>
            <button ng-click="deleteItem(index)" class="items-list__button">Delete</button>
        </li>
    </ul>
    <div ng-if="!items.length" class="panel-message">
        NO ITEMS. CREATE NEW ONE BY PRESSING "ADD NEW"
    </div>
</section>

<section class="panel">
    <div ng-if="selectedItem">
        <header class="panel__header">Comments #{{getSelectedItemIndex()+1}}</header>
        <ul ng-if="comments.length" class="comments-list">
            <li ng-repeat="comment in comments" class="comments-list__item">
                <img class="comments-list__avatar" alt="{{comment.author.name}} avatar" src="{{comment.author.avatar}}">
                <pre class="comments-list__text">{{comment.text}}</pre>
            </li>
        </ul>
        <div ng-if="!comments.length" class="panel-message">
            NO COMMENTS. BE FIRST WHO COMMENTED THIS ITEM
        </div>
        <div class="add-comment">
            <img class="add-comment__avatar" alt="{{newComment.author.name}} avatar" src="{{newComment.author.avatar}}"></img>
            <textarea ng-model="newComment.text" ng-keypress="commentKeypressHandler($event)" class="add-comment__textarea"
                      placeholder="Press ctrl+enter to add comment"></textarea>
        </div>
    </div>
    <div ng-if="!selectedItem">
        <header class="panel__header">Comments</header>
        <div class="panel-message">
            PLEASE SELECT ITEM TO SHOW COMMENTS
        </div>
    </div>
</section>

